---
title: JAVA-实用类大全
date: 2021-05-06 19:31:07
permalink: /courses/oop/utils
categories:
  - 课程学习
  - 面向对象编程
tags:
  - OOP
  - JAVA
---

# 实用类

## 内部类

顾名思义，就是指一个类A的内部再声明了一个类B作为类A的成员。内部类中不能声明类变量和类方法(指static修饰的)，外部类可以声明内部类对象。**内外的成员和方法可以相互调用**。

```java
class Student {
  String name;
  class Life {
    String stuName;
    Life(String name) { this.stuName = name; }
    public void sayHello() { System.out.println(this.stuName); }
    
  }

  Life l;
  Student() {}
  Student(String name) {
    l = new Life(name);
    this.name = name;
  }
  public void SelfIntru() { System.out.println("I'm " + this.l.sayHello()); }
}

//类别对内部类进行声明
public static void main() {
  ClassA a = new ClassA();
  ClassA.ClassB b = a.new ClassB();

  Student s = new Student();
  Student.Life l = s.new Life();
}
```

## 匿名类

顾名思义，就是指没有名字的类，相当于是使用类的子类创建一个子类对象，也就是说默认就带有继承效果，所以可以直接用抽象类或接口创建一个对象。

```java
abstract class Shape { ... }

public static void main() {
  Shape bottom;
  bottom = new Circle(); //Circle继承Shape

  new Shape() { ... } //可以直接创建一个继承于Shape的对象
}

```

## 异常类

异常类是指可以自定义java中的异常，所有的异常都是继承于Exception类，只要继承于Exception类并且重写toString和getMessage方法，在声明方法的时候在末尾使用throws + 异常类表示该方法会抛出哪些异常，在使用这个方法的区域需要用try-catch语句捕获异常。

若如果直接使用throw + 异常类，则表示语句执行到该处的时候直接抛出一个异常。

```java
public class ShapeException extends Exception {
    String message;
    ShapeException(String message) { this.message = message; }
    public String toString() { return this.message; }
    public String getMessage() { return this.message; }
}
public class Circle implements IShape {
    double radius;
    public double getArea() { return Cylinder.PI * this.radius * this.radius; }
    public double getPerimeter() { return 2 * Cylinder.PI * this.radius; }
    public void input(Scanner sc) throws ShapeException {
        if (this.radius < 0) { throw new ShapeException("输入半径为负"); }
        this.radius = sc.nextDouble();
    }
}
  public interface IShape {
    double getArea();
    double getPerimeter();
    void input(Scanner sc) throws ShapeException;
  }
  public static void main() {
    while (true) {
      try {
        bottom.input(sc);
        break;
      } catch (ShapeException exp) {
        System.out.println(exp.getMessage());
        System.out.println("请重新输入属性值:");
      }
    }
  }
```

## 断言

使用assert关键字，基本用法为: assert + 逻辑表达式。当后面跟的逻辑表达式为真则不会抛出异常，若表达式为假则抛出异常.

```java
int num = 0;
assert num >= 0: "num为负数";
num = -1;
assert num >= 0: "num为负数"; //抛出异常.
```

## 输入输出流类

